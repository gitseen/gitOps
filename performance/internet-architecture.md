# 大型互联网架构介绍
**大型互联网项目的特点** 
- 高并发： 同一时间访问量大
- 高可用： 保证系统365 * 7 * 24不间断运行
- 高性能： 响应时间快  
## 1、高并发
高并发(High Concurrency)是互联网分布式系统架构设计中必须考虑的因素之一   
它通常是指,通过设计保证系统能够同时并行处理很多请求  
高并发相关常用的一些指标有响应时间(Response Time),吞吐量(Throughput),每秒查询率 QPS(Query Per Second),并发用户数等  
  - 响应时间  
    系统对请求做出响应的时间。例如系统处理一个 HTTP 请求需要 200ms,这个 200ms 就是系统的响应时间  
  - 吞吐量  
    单位时间(年,月,日,时,分,秒)内处理的请求数量  
  - QPS  
    每秒响应请求数。在互联网领域,这个指标和吞吐量区分的没有这么明显   
  - 并发用户数    
   同时承载正常使用系统功能的用户数量。例如一个即时通讯系统,同时在线量一定程度上代表了系统的并发用户数  

## 2、高可用
**故障监测与排除、消除达点故障、互备和容灾**  
高可用注意如果使用单机,一旦挂机将导致服务不可用,可以使用集群来代替单机,一台服务器挂了,还有其他后备服务器能够顶上。或者使用分布式部署项  
比如现在redis的高可用的集群方案有： Redis单副本,Redis多副本（主从）,Redis Sentinel（哨兵）,Redis Cluster,Redis自研  

## 3、高性能
### 3.1 什么是高性能呢
高性能是指程序处理速度非常快,所占内存少,cpu占用率低。高性能的指标经常和高并发的指标紧密相关,想要提高性能,那么就要提高系统发并发能力,两者互相捆绑在一起  
应用性能优化的时候,对于计算密集型和IO密集型还是有很大差别,需要分开来考虑  
还有可以增加服务器的数量,内存,IO等参数提升系统的并发能力和性能,但不要浪费资源,要考虑硬件的使用率最高才能发挥到极致
### 3.2 怎么样提高性能呢?
避免因为IO阻塞让CPU闲置,导致CPU的浪费避免多线程间增加锁来保证同步  
导致并行系统串行化免创建、销毁、维护太多进程、线程,导致操作系统浪费资源在调度上  

## 4、怎样应对高并发和高可用
互联网分布式架构设计,提高系统并发能力的方式,方法论上主要有两种：垂直扩展(Scale Up)与水平扩展(Scale Out)
### 4.1 垂直扩展
提升单机处理能力。垂直扩展的方式又有两种：  
- 增强单机硬件性能
  例如：增加CPU核数如32核,升级更好的网卡如万兆,升级更好的硬盘如SSD,扩充硬盘容量如2T,扩充系统内存如128G；
- 提升单机架构性能(提升软件性能)
  例如：使用 缓存来减少IO次数,使用异步来增加单服务吞吐量,使用无锁数据结构来减少响应时间;  
  如果预算不是问题,强烈建议使用"增强单机硬件性能"的方式提升系统并发能力,因为这个阶段,公司的战略往往是发展业务抢时间,而"增强单机硬件性能"往往是最快的方法   

不管是提升单机硬件性能,还是提升单机架构性能,都有一个致命的不足：单机性能总是有极限的。所以互联网分布式架构设计高并发终极解决方案还是水平扩展。  
### 4.2 水平扩展
只要增加服务器数量,就能线性扩充系统性能。水平扩展对系统架构设计是有要求的,如何在架构各层进行可水平扩展的设计,以及互联网公司架构各层常见的水平扩展实践,是本文重点讨论的内容。

[架构-CTO修炼之路](https://www.toutiao.com/article/7201744904740536890/)

